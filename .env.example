# ==================================
# MUNICIPAL TRANSPARENCY PLATFORM
# Environment Variables - Fase 1A
# ==================================

# ----------------------------------
# DATABASE CONFIGURATION
# ----------------------------------
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://municipal_user:municipal_pass@localhost:5432/municipal_transparency

# Database credentials (used by docker-compose)
POSTGRES_USER=municipal_user
POSTGRES_PASSWORD=municipal_pass
POSTGRES_DB=municipal_transparency

# ----------------------------------
# REDIS CONFIGURATION
# ----------------------------------
# Redis connection string
# Format: redis://[[:password@]host[:port][/database]
REDIS_URL=redis://:redis_pass@localhost:6379
REDIS_PASSWORD=redis_pass

# ----------------------------------
# JWT AUTHENTICATION
# ----------------------------------
# IMPORTANT: Change these secrets in production!
# Generate with: openssl rand -base64 32
JWT_SECRET=dev-secret-change-in-production-please-use-strong-secret
JWT_REFRESH_SECRET=dev-refresh-secret-change-in-production-please-use-strong-secret

# Token expiration times
JWT_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d

# ----------------------------------
# APPLICATION CONFIGURATION
# ----------------------------------
# Environment: development | production | test
NODE_ENV=development

# API Server port
PORT=3001

# API prefix (e.g., /api/v1)
API_PREFIX=api

# ----------------------------------
# CORS CONFIGURATION
# ----------------------------------
# Comma-separated list of allowed origins
# Example: http://localhost:3000,https://admin.municipality.cl
CORS_ORIGINS=http://localhost:3000,http://localhost:3002

# ----------------------------------
# RATE LIMITING
# ----------------------------------
# Time to live in seconds
THROTTLE_TTL=60

# Maximum requests per TTL window
THROTTLE_LIMIT=100

# ----------------------------------
# LOGGING CONFIGURATION
# ----------------------------------
# Log level: trace | debug | info | warn | error | fatal
LOG_LEVEL=debug

# Log to file (optional)
LOG_FILE_ENABLED=false
LOG_FILE_PATH=./logs/app.log

# ----------------------------------
# SWAGGER/OpenAPI DOCUMENTATION
# ----------------------------------
# Enable Swagger UI (disable in production)
SWAGGER_ENABLED=true

# Swagger UI path (relative to API_PREFIX)
SWAGGER_PATH=api/docs

# ----------------------------------
# MUNICIPALITY CONFIGURATION
# ----------------------------------
# Default municipality settings
DEFAULT_MUNICIPALITY_NAME=Santiago
DEFAULT_MUNICIPALITY_COUNTRY=Chile
DEFAULT_MUNICIPALITY_REGION=Metropolitana
DEFAULT_CURRENCY=CLP
DEFAULT_TIMEZONE=America/Santiago
DEFAULT_LOCALE=es-CL

# ----------------------------------
# SEED DATA CONFIGURATION
# ----------------------------------
# Admin user credentials for seed data
SEED_ADMIN_EMAIL=admin@santiago.cl
SEED_ADMIN_PASSWORD=demo123

# Fiscal years to seed
SEED_FISCAL_YEARS=2023,2024,2025

# ----------------------------------
# EXTERNAL SERVICES (Future phases)
# ----------------------------------
# OpenAI API (for NLâ†’BI in future phases)
# OPENAI_API_KEY=sk-...
# OPENAI_MODEL=gpt-4-turbo-preview

# Email service (for notifications)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=noreply@municipality.cl
# SMTP_PASSWORD=
# SMTP_FROM=Transparencia Municipal <noreply@municipality.cl>

# File storage (S3-compatible)
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_BUCKET=municipal-documents
# S3_ACCESS_KEY_ID=
# S3_SECRET_ACCESS_KEY=
# S3_REGION=us-east-1

# ----------------------------------
# MONITORING & OBSERVABILITY (Future)
# ----------------------------------
# Sentry for error tracking
# SENTRY_DSN=https://...@sentry.io/...
# SENTRY_ENVIRONMENT=development

# Metrics
# METRICS_ENABLED=false
# METRICS_PORT=9090
